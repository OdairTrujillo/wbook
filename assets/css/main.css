/* Wbook CSS */

/* VARIABLES */
:root {
  --fontGeneralColor: #17213d;
  --headerBackground: #17213d;
  --textHeaderColor: #fff9ed;
  --sidebarBackground: rgba(255, 249, 237, 0.6);
  --mainBackground: rgba(255, 249, 237, 0.6);
  --footerBackground: rgba(255, 249, 237, 0.6);
  --linkNormal: #26598c;
  --linkHover: #4b6ece;
  --linkVisited: #26408a;
  --calendarItemsColor: #ddccbc;
  --calendarItemsBorderColor: #ccb299;
  --hideButtonColor: #26598c;
  --frontFontColor: #FFF;

  --calendarItemsFontSize: 13px;
  --serieFontSizeM: 16px;
  --serieFontSizeW: 18px;
  --scrollWidth: 8px;
}

/* GENERAL RULES */
@charset "UTF-8";

@font-face {
  font-family: handWrite;
  src: url("../fonts/SnellRoundhand.ttf");
}

@font-face {
  font-family: frontFont;
  src: url("../fonts/Fontin-Bold.otf");
}

@font-face {
  font-family: contentTitle;
  src: url("../fonts/Asap-Bold.ttf");
}

@font-face {
  font-family: contentTitleItalic;
  src: url("../fonts/Asap-BoldItalic.ttf");
}

@font-face {
  font-family: contentItalic;
  src: url("../fonts/Asap-Italic.ttf");
}

@font-face {
  font-family: contentRegular;
  src: url("../fonts/Asap-Regular.ttf");
}

* {
  margin: 0;
  box-sizing: border-box;
}

body {
  padding: 0;
  font-family: 'contentRegular', Helvetica, sans-serif;
  color: var(--fontGeneralColor);
}

h1, h2 {
  font-size: 16px;
  text-align: center;
  padding: 1rem 0.5rem;
}

h3, h4 {
  font-size: 16px;
  text-align: left;
  padding-bottom: 1rem;
}

p {
  font-size: 16px;
  text-align:justify;
  padding: 0.3rem 0;
  line-height: 1.3;
}

/* Superscript elements */
sup {
  font-size: 13px;
  font-weight: bold;
}

/* disable underline in links */
a {
  text-decoration: none;
}

/* unvisited link */
a:link {
  color: var(--linkNormal);
}

/* visited link */
a:visited {
  color: var(--linkVisited);
}

/* mouse over link */
a:hover {
  color: var(--linkHover);
}

/* selected link */
a:active {
  color: var(--linkHover);
}

hr {
  min-height: 2px;
  height: 2px;
  width: 95%;
  border-width: 0;
  margin: 10px 0;
  color: var(--linkNormal);
  background-color: var(--linkNormal);
}

.center-italic {
  text-align: center;
  font-style: italic;
  padding-bottom: 1rem;
}

/* SPECIFIC RULES */

/* The base container is a css grid, it is located into the baseof.html layout.
   Here is defined the tempaltes areas to build a grid with two columns and three rows */

.index {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--mainBackground);
  background-image: url("../images/index_background.jpg");
  background-repeat: no-repeat;
  background-size: cover;
  margin: 5px;
}

.index__flex-item {
  text-align: center;
}

.index__book-type, .index__book-title, .index__book-author {
  text-align: center;
  color: var(--frontFontColor);
}

.index__book-type {
  font-family: handWrite;
  font-size: 18px;
}

.index__book-title  {
  font-family: frontFont;
  font-size: 24px;
  margin-bottom: -5px;
}

.index__book-logo {
  padding-bottom: 5px;
}

.index__book-logo > img {
  height: 18px;
}

.index__book-author {
  font-family: frontFont;
  font-size: 16px;
}

.index__book-brand {
  padding-top: 10px;
}

.index__book-brand > img {
  height: 24px;
}

/* The layout is arranged with mobile-first, so the layout is vertical */
.grid-container {
  display: grid;
  width: 100%;
  grid-template-columns: 1fr;
  grid-template-rows: 50px 1fr 1fr 100px; /* minmax sets the sidebar to shirnk when children does */
  grid-template-areas:
    "header"
    "sidebar"
    "main"
    "footer";
  height: 100vh;
  min-height: 0; /* Overriding min-height: auto; to forbid children to expand */
  min-width: 0; /* Necessary in Firefox  */
}

/* The header is a flex container, with the elements separated to the extremes, it is
   located into the baseof.html file. The parameter grid-area assigns a name to the
   header class inside de css grid (.grid-container)*/
.header {
  grid-area: header;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between; /* This will separete the flex items to the extremes*/
  background-color: var(--headerBackground);
  padding: 0 8px;
}

/* These are the elements of the hader */
.header p {
  padding: 0;
  margin: 0;
  line-height: normal;
  color: var(--textHeaderColor);
}

.header__image-left {
  display: none;
}

.header__image-right {
  display: none;
}

.header__brand-title {
  display: block;
}

.header__brand-title > p {
  font-size: 16px;
}

.header__book-title {
  display: block;
}

.header__book-title p {
  font-size: 18px;
}

.header__book-title > img {
  display: block;
  margin: 0 auto;
  width: 50px;
}

.header__brand-logo {
  display: block;
  margin-left: 20px;
}

.header__brand-logo img {
  width: 70%;
}

/* Another child element of the css grid base container */
.sidebar {
  grid-area: sidebar;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  background-color: var(--sidebarBackground);
  padding: 10px 10px 5px 10px;
  max-height: 250px;
}

/* The child element of the flexbox sidebar, is the container of the whole TOC */
.sidebar__toc {
  flex-grow: 1;
  padding: 0 10px;
  width: 100%;
  overflow-y: auto;
}

.sidebar__toc-icon {
  text-align: center;
}

.sidebar__toc-icon > p {
  text-align: center;
}

.sidebar__toc-serie {
  text-align: left;
  font-size: var(--serieFontSizeM);
  font-weight: bold;
  line-height: normal;
  cursor: pointer;
  color: var(--linkNormal);
}

.sidebar__toc-serie:hover {
  color: var(--linkHover);
}

.serie--active {
  color: var(--linkVisited); /* To highlight the active serie */
}

/* The wrapper of the calendar is used for hide the whole calendar */
.sidebar__toc-calendar-wrapper {
  max-height: 0px;
  overflow: hidden;
  transition: max-height 0.2s ease-out;
}

/* This is the calendar as such. */
.sidebar__toc-calendar {
  display: flex;
  align-items: flex-start;
  justify-content: left;
  flex-flow: row wrap;
  border-top: 2px solid;
  border-bottom: 2px solid;
  padding: 10px 0;
}

.sidebar__toc-calendar-title {
  text-align: center;
  padding: 0;
}

.sidebar__toc-calendar-item {
  text-align: center;
  font-size: var(--calendarItemsFontSize);
  font-weight: bold;
  background-color: var(--calendarItemsColor);
  width: 25px;
  height: 25px;
  margin: 2px;
  padding-top: 4px;
  border: 1px var(--calendarItemsBorderColor) solid;
  border-radius: 50%

}

/* This child element of the flexbox sidebar, is the container of cite box. */
/* It is hidden on mobiles, but it appears when a cite-title is clicked */
.sidebar__cite {
  max-height: 0px;
  font-style: italic;
  text-align: center;
  width: 100%;
  transition: 0.3s ease;
  overflow-y: auto;
}

.sidebar__cite-button-hide {
  position: sticky;
  background-color: var(--hideButtonColor);
  border: none;
  border-radius: 50%;
  padding: 2px 6px;
  color: var(--mainBackground);
  font-size: 12px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 5px;
}

/* This class will allow to have cite text invisible, that will be taken by the
javascript code that handles clicks on the cite-title elements  */
.cite-text {
  display: none;
}

.cite-title {
  cursor: pointer;
  color: var(--linkNormal);
}

.cite-title:hover {
  color: var(--linkHover);
}

/* The main container is a css grid, it is located into the single.html layout.
   Here is defined the tempaltes areas to build a grid with two columns and two rows.
   This is the reading area of the Wbook. */
.main {
  grid-area: main;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  background-color: var(--mainBackground);
}

/* The series title will ocupy the whole width of the main container. This element
   just shows the header text of the book. */
.series-title {
  font-family: contentTitle;
  align-self: center;
  font-weight: bold;
  font-size: 120%;
  padding: 10px;
}

/* The primary-content container will receive the {{ .Content }} variable in Hugo */
.primary-content {
  padding: 10px;
}

/* The secondary-content will receive the {{ .Param.description }} that comes from the
   front-matter of the page.md */
.secondary-content {
  padding: 10px;
  margin-bottom: 10px;
}

.secondary-content img {
  padding: 0 10px;
  margin: 0 auto;
}

.secondary-content > :first-child {
  text-align: center;
}

.footer {
  grid-area: footer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: var(--footerBackground);
}

.footer__social-author {
  flex-basis: 20%;
  display: flex;
  flex-flow: row wrap;
  padding: 0 10px;
}

.footer__social-author > a {
  flex-basis: 50%;
}

.footer__book-code {
  font-size: 14px;
  flex-basis: 60%;
  text-align: center;
}

.footer__book-code-images {
  height: 36px;
  padding: 0 5px;
}

.footer__book-code > p {
  text-align: center;
  font-size: 14px;
}

.footer__social-editor {
  flex-basis: 20%;
  display: flex;
  flex-flow: row wrap;
  padding: 0 10px;
}

.footer__social-editor > a {
  flex-basis: 50%;
}

/* Screens over 750px like tablets and desktops */
@media only screen and (min-width: 750px) {
  /* GENERAL RULES */
  body {
  }

  h1, h2 {
    font-size: 20px;
    padding: 1.5rem 0.5rem 2rem 0.5rem;
  }

  h3, h4 {
    font-size: 18px;
    padding-bottom: 2rem;
  }

  p {
    font-size: 18px;
    padding: 0.5rem 0;
    line-height: 1.6;
  }

  sup {
    font-size: 11px;
    font-weight: bold;
  }

  .custom-scroll::-webkit-scrollbar-track  {
    background-color: var(--mainBackground);
    border-radius: var(--scrollWidth);
  }

  .custom-scroll::-webkit-scrollbar {
    width: var(--scrollWidth);
    background-color: var(--mainBackground);
  }

  .custom-scroll::-webkit-scrollbar-thumb {
    border-radius: var(--scrollWidth);
    background-color: #FFF;
    background-image: -webkit-gradient(linear, 40% 0%, 75% 84%, from(#fff9ed), to(#fff9ed), color-stop(.6,#b3b3b3));
  }

  .center-italic {
    padding: 0 5rem 2rem 5rem;
  }

  /* SPECIFIC RULES */
  .index {
    background-image: url("../images/index_background.jpg");
    margin: 10px;
  }

  .index__book-type {
    font-size: 36px;
  }

  .index__book-title  {
    font-size: 64px;
    margin-bottom: -20px;
  }

  .index__book-logo {
    padding-bottom: 20px;
  }

  .index__book-author {
    font-size: 24px;
  }

  .index__book-brand {
    padding-top: 30px;
  }

  /* The header is a flex container, with the elements separated to the extremes, it is
     located into the baseof.html file. The parameter grid-area assigns a name to the
     header class inside de css grid (.grid-container)*/
  .header {
    background-image: url("../images/header_background.jpg");
    background-repeat: no-repeat;
    background-size: cover;
    padding: 0;
  }

  .header__image-left {
    align-self: baseline;
    display: block;
    position: relative;
    top: 0;
    left:0;
  }

  .header__image-right {
    align-self: baseline;
    display: block;
    position: relative;
    top: 0;
    right:0;
  }

  .header__brand-title {
    margin-right: 100px;
  }

  .header__brand-title > p {
    font-family: frontFont;
    font-size: 36px;
  }

  .header__book-title p {
    font-family: frontFont;
    font-size: 56px;
  }

  .header__book-title > img {
    display: block;
    margin: 0 auto;
    width: 92px;
  }

  .header__brand-logo {
    margin-left: 150px;
  }

  .header__brand-logo img {
    width: 100%;
    min-width: 92px !important;
  }

  /* The base container is a css grid, it is located into the baseof.html layout.
     Here is defined the tempaltes areas to build a grid with two columns and three rows */
  .grid-container {
    grid-template-columns: 0.25fr 1fr;
    grid-template-rows: 140px 1fr 120px;
    grid-template-areas:
      "header header"
      "sidebar main"
      "footer footer";
  }

  .sidebar {
    height: 100%;
    max-height: 100%;
    min-height: 0;
    padding: 0 0 0 50px;
  }

  .sidebar__toc-icon {
    padding-top: 20px;
  }

  .sidebar__toc-icon > p {
    font-size: 22px;
  }

  .sidebar__toc {
    margin-top: 20px;
  }

  .sidebar__toc-serie {
    font-size: var(--serieFontSizeW);
  }

  /* This child element of the flexbox sidebiar, is the container of cite box. */
  /* It is hidden on mobiles, but it appears when a cite-title is clicked */
  .sidebar__cite {
    min-height: 160px;
  }

  /* The main container is a css grid, it is located into the single.html layout.
     Here is defined the tempaltes areas to build a grid with two columns and two rows.
     This is the reading area of the Wbook. */
  .main {
    grid-area: main;
    display: grid;
    grid-template-columns: 2fr 1fr;
    grid-template-rows: 80px 1fr;
    grid-template-areas:
      "series-title secondary-content"
      "primary-content secondary-content";
    min-height: 0; /* Overriding min-height: auto; to forbid children to expand */
    min-width: 0; /* Necessary in Firefox  */
    padding-top: 20px;
  }

  .series-title {
    grid-area: series-title;
    font-size: 36px;
    text-align: center;
    padding: 0 20px 0 10px;
    margin: 0 0px 0 20px;
  }

  .primary-content {
    grid-area: primary-content;
    height: 100%;
    overflow-y: auto;
    min-height: 0; /* Overriding min-height: auto; to forbid children to expand */
    margin: 0 0 0 20px;
    padding: 0 10px 0 10px;
  }

  .secondary-content {
    grid-area: secondary-content;
    height: 100%;
    overflow-y: auto;
    min-height: 0; /* Overriding min-height: auto; to forbid children to expand */
    padding: 50px 20px 0 0;
    margin: 0 50px 0 20px;
  }

  .secondary-content img {
    padding: 0 5px;
    margin: 0 auto;
  }

  /* This child element of the flexbox sidebiar, is the container of cite box. */
  /* It is hidden on mobiles, but it appears when a cite-title is clicked */
  .sidebar__cite {
    max-height: none;
    padding: 10px;
    height: 210px;
    overflow-y: auto;
    margin-bottom: 5px;
  }

  .sidebar__cite-button-hide {
    display: none;
  }

  .footer__social-author {
    flex-basis: 20%;
    display: flex;
    align-items: left;
    align-content: left;
    flex-flow: row nowrap;
    padding: 0 40px;
  }

  .footer__social-author > a {
    flex-basis: 50%;
  }

  .footer__book-code {
    font-size: 14px;
    flex-basis: 60%;
    text-align: center;
  }

  .footer__book-code-images {
    height: 48px;
    padding: 0 10px;
  }

  .footer__book-code > p {
    text-align: center;
    font-size: 14px;
  }

  .footer__social-editor {
    flex-basis: 20%;
    display: flex;
    flex-flow: row nowrap;
    padding-top: 40px;
  }

  .footer__social-editor > a {
    flex-basis: 50%;
  }

  .floating-desktop {
    position: absolute;
    bottom: 60px;
    right: 0;
  }
}
